#!/usr/bin/env sh

echo "ğŸš€ Formatting Repository Files..."

echo "ğŸ¨ Running frontend linting and formatting..."
cd frontend

# Run ESLint with auto-fix and fail if there are still errors
echo "ğŸ” Running ESLint with auto-fix..."
yarn lint:fix

if [ $? -ne 0 ]; then
    echo "âŒ ESLint errors found that couldn't be auto-fixed! Please fix them before committing."
    exit 1
fi

# Then run Prettier
echo "âœ¨ Running Prettier..."
yarn format

echo "ğŸ”™ Returning to project root..."
cd ..

echo "â˜• Running Java checks..."
./scripts/check-java.sh

echo "âœ… All checks complete!"
